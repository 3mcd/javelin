<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title></title>

      
      

      <!-- CSS -->
      
      <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,300;0,400;0,600;1,400&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="https://3mcd.github.io/javelin/book.css">
      

      
      
    </head>

    <body>
        <main>
            <div class="menu">
                <h1>Javelin</h1>
                
                
                <nav role="navigation">
                    <ul>
                        
                            
                            
                                
                                <li >
                                    
                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;introduction&#x2F;">
                                        
                                        Introduction
                                    </a>
                                    
                                </li>
                            
                                
                                <li >
                                    
                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;ecs&#x2F;">
                                        
                                        ECS
                                    </a>
                                    
                                        <ul>
                                            
                                                <li >
                                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;ecs&#x2F;installation&#x2F;">
                                                        
                                                        Installation
                                                    </a>
                                                </li>
                                            
                                                <li >
                                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;ecs&#x2F;world&#x2F;">
                                                        
                                                        Hello World
                                                    </a>
                                                </li>
                                            
                                                <li >
                                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;ecs&#x2F;entities&#x2F;">
                                                        
                                                        Entities
                                                    </a>
                                                </li>
                                            
                                                <li class="active">
                                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;ecs&#x2F;components&#x2F;">
                                                        
                                                        Components
                                                    </a>
                                                </li>
                                            
                                                <li >
                                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;ecs&#x2F;systems&#x2F;">
                                                        
                                                        Systems
                                                    </a>
                                                </li>
                                            
                                                <li >
                                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;ecs&#x2F;filtering&#x2F;">
                                                        
                                                        Filtering
                                                    </a>
                                                </li>
                                            
                                                <li >
                                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;ecs&#x2F;tagging&#x2F;">
                                                        
                                                        Tagging
                                                    </a>
                                                </li>
                                            
                                                <li >
                                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;ecs&#x2F;topics&#x2F;">
                                                        
                                                        Topics
                                                    </a>
                                                </li>
                                            
                                        </ul>
                                    
                                </li>
                            
                                
                                <li >
                                    
                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;networking&#x2F;">
                                        
                                        Networking
                                    </a>
                                    
                                </li>
                            
                                
                                <li >
                                    
                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;devtools&#x2F;">
                                        
                                        Devtools
                                    </a>
                                    
                                </li>
                            
                                
                                <li >
                                    
                                    <a href="https:&#x2F;&#x2F;3mcd.github.io&#x2F;javelin&#x2F;examples&#x2F;">
                                        
                                        Examples
                                    </a>
                                    
                                </li>
                            
                        
                    </ul>
                </nav>
                
                
            </div>

            <div class="page">
                <div class="page__content">
                    
                    <div class="search-container">
                        <input id="search" type="search" placeholder="Search..">
                        <div class="search-results">
                            <div class="search-results__header"></div>
                            <ul class="search-results__items"></ul>
                        </div>
                    </div>
                    
                    <div class="book-content">
                        
<h1>Components</h1>
<h2 id="components">Components<a class="zola-anchor" href="#components" aria-label="Anchor link for: components"
  >#</a
>
</h2>
<p>Components are plain objects; unremarkable, other than a few reserved fields:</p>
<ul>
<li><code>_t</code> is a unique integer identifying the component's <strong>type</strong></li>
<li><code>_e</code> records the <strong>entity</strong> the component is associated with</li>
<li><code>_v</code> records the current <strong>version</strong> of the component, and used for change detection</li>
</ul>
<p>The component's type, or <code>_t</code>, is the only required field when assigning components to an entity (new or otherwise).</p>
<pre style="background-color:#f6f8f8;">
<code><span style="color:#555c64;">world.create([
  { _t: </span><span style="color:#4179ad;">1</span><span style="color:#555c64;">, x: </span><span style="color:#4179ad;">0</span><span style="color:#555c64;">, y: </span><span style="color:#4179ad;">0 </span><span style="color:#555c64;">},
  { _t: </span><span style="color:#4179ad;">2</span><span style="color:#555c64;">, health: </span><span style="color:#4179ad;">10 </span><span style="color:#555c64;">},
]);
</span></code></pre>
<p>A component with type <code>1</code> belonging to entity <code>5</code> that has been modified three times might look like:</p>
<pre style="background-color:#f6f8f8;">
<code><span style="color:#555c64;">{
  _t: </span><span style="color:#4179ad;">1</span><span style="color:#555c64;">,
  _e: </span><span style="color:#4179ad;">5</span><span style="color:#555c64;">,
  _v: </span><span style="color:#4179ad;">3</span><span style="color:#555c64;">,
  </span><span style="color:#8c95a0;">// ...
</span><span style="color:#555c64;">}
</span></code></pre><h2 id="component-factories">Component Factories<a class="zola-anchor" href="#component-factories" aria-label="Anchor link for: component-factories"
  >#</a
>
</h2>
<p>It's strongly recommended to use the <code>createComponentFactory</code> helper to create factories to build your components.</p>
<pre style="background-color:#f6f8f8;">
<code><span style="color:#388282;">import </span><span style="color:#555c64;">{ createComponentFactory, number } </span><span style="color:#388282;">from </span><span style="color:#4179ad;">&quot;@javelin/ecs&quot;</span><span style="color:#555c64;">;

</span><span style="color:#388282;">const </span><span style="color:#555c64;">Position </span><span style="color:#388282;">= </span><span style="color:#555c64;">createComponentFactory({
  type: </span><span style="color:#4179ad;">1</span><span style="color:#555c64;">,
  name: </span><span style="color:#4179ad;">&quot;position&quot;</span><span style="color:#555c64;">,
  schema: {
    x: number,
    y: number,
  },
});
</span></code></pre>
<p>A component factory is configured with a type, name, and schema. <code>type</code> is be a unique integer and <code>name</code> is a unique string. The component factory's name is used by <a href="https://github.com/3mcd/javelin/tree/master/packages/devtool"><code>javelin/devtools</code></a> for help with rendering.</p>
<p>The <code>schema</code> option defines the field names and data types that make up the shape of the component. Currently, the schema is used to automatically initialize and reset component instances. In the future, it may be used to improve compression of components when serialized.</p>
<p>Components created via factory are automatically pooled; however, you must register the factory with the world so components are released back to the pool when their entity is destroyed:</p>
<pre style="background-color:#f6f8f8;">
<code><span style="color:#388282;">const </span><span style="color:#555c64;">world </span><span style="color:#388282;">= </span><span style="color:#555c64;">createWorld({ componentFactories: [</span><span style="color:#88669e;">Position</span><span style="color:#555c64;">] });
</span><span style="color:#8c95a0;">// OR
</span><span style="color:#555c64;">world.registerComponentFactory(</span><span style="color:#88669e;">Position</span><span style="color:#555c64;">);
</span></code></pre>
<p>Otherwise, you'll need to release pooled components manually with the <code>componentFactory.destroy</code> method.</p>
 
                    </div>
                </div>

                <div class="prev-link">
                    
                    
                </div>

                <div class="next-link">
                    
                    
                </div>
            </div>
        </main>

        
        
    </body>

</html>
